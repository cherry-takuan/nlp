# 偽VTL
VTLっぽい奴＋テキストエディタをNLP-16，16Aに実装したい．
試しにCで書いてみた．

## エディタ
edっぽい操作．数値を入れるとその行にカーソルが飛んでaでその位置に挿入，cでその行を上書き，dで削除．

pで全ソース表示．

数値以外にも.で現在のカーソル位置，\$で最終行が指定できる．
例えば`1,4`で1-4行目を表示，`4,$`で4行目から最終行まで表示，`.,3`で先頭から3行目まで表示となる．

rで先頭からプログラムが走る．
おまけでDでギャップバッファのデバッグ表示．

変数はA-Zと配列1つのみ．  
\#に数値を代入で指定行(先頭の行番号)に飛ぶ．?は数値の入出力で$が文字の入出力．  
式の評価は左辺をRPNで評価し，右辺に代入．
配列の使い方
```
10 20,2*1=:
20 1:=?
```
実行すると40が返ってくる．
```
10| array[1] = 20*2
20| print(array[1])
```
みたいな感じ．
最上位のスタックを配列のアドレスになり(ここでは1):で配列が使用される位置．

実行できるサンプルプログラム(フィボナッチ数列)
```
10 0=A,1=B
20 AB+=C,B=A,C=B,C=?,',',100,C>20*=#
30 'END\n'
```